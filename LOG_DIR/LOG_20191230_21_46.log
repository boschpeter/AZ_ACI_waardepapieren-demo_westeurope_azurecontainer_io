20191230_21_46 - BEGIN JOB:
-----------------------------------------------------------------------------

-----------------------------------------------------------------------------
#######################
## variables
#######################
PROJECT_DIR=/home/boscp08/Projects/scratch/virtual-insanity
GIT_USER=BoschPeter
GIT_REPO=AZ_ACI_waardepapieren-demo_westeurope_azurecontainer_io
GITHUB_DIR=/home/boscp08/Projects/scratch/virtual-insanity/AZ_ACI_waardepapieren-demo_westeurope_azurecontainer_io
DOCKER_USER=boscp08
COMPOSE_BUILD_FLAG= --build
MOCK_NLX_IMAGE=waardepapieren_mock-nlx
SERVICE_IMAGE=waardepapieren_waardepapieren-service
CLERK_FRONTEND_IMAGE=waardepapieren_clerk-frontend
DOCKERHUB_MOCK_NLX_IMAGE=waardepapieren-mock-nlx
DOCKERHUB_SERVICE_IMAGE=waardepapieren-waardepapieren-service
DOCKERHUB_CLERK_FRONTEND_IMAGE=waardepapieren-clerk-frontend
DOCKER_VERSION_TAG=4.0
AZ_RESOURCE_GROUP=Discipl_Wigo4it_DockerGroup4
AZ_DNSNAMELABEL=discipl
TARGET_HOST=azure_container_instance
AZ_TLD=azurecontainer.io
TIMEZONE=
CERT_HOST_IP=discipl.westeurope.azurecontainer.io
CERT_HOST_IP_WP_SERVICE_HOSTNAME=discipl.westeurope.azurecontainer.io
#######################
## variables
#######################
| 20191230_21_46 | Dockerfile|
| 20191230_21_46 | /home/boscp08/Projects/scratch/virtual-insanity/AZ_ACI_waardepapieren-demo_westeurope_azurecontainer_io/waardepapieren-service |
<code>
FROM node:10
RUN mkdir /app
ADD .babelrc package.json package-lock.json /app/
ADD src/* app/src/
ADD configuration/* app/configuration/
#- ./waardepapieren-service/system-test/certs:/certs:ro
RUN mkdir /certs
ADD system-test/certs/org.crt /certs/org.crt
ADD system-test/certs/org.key /certs/org.key
#- ./waardepapieren-service/system-test/ephemeral-certs:/ephemeral-certs:ro
RUN mkdir /ephemeral-certs
ADD system-test/ephemeral-certs/org.crt /ephemeral-certs/
ADD system-test/ephemeral-certs/org.key /ephemeral-certs/
#- ./waardepapieren-service/configuration/:/app/configuration:ro

WORKDIR /app
RUN mkdir /configuration
ADD configuration/waardepapieren-config-compose.json /app/configuration
ADD configuration/waardepapieren-config-compose-travis.json /app/configuration
ADD configuration/waardepapieren-config.json /app/configuration
ENV WAARDEPAPIEREN_CONFIG /app/configuration/waardepapieren-config.json
ENV TZ=Europe/Amsterdam
RUN apt-get update 
RUN apt-get install -y iputils-ping
RUN apt-get install -y net-tools

RUN npm install --production
CMD npm start
</code>
20191230_21_46 - END JOB :
-----------------------------------------------------------------------------

-----------------------------------------------------------------------------
